<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>New Recipe</title>
</head>
<body>
    <div class="main-container">
        <%- include('../partials/_navbar.ejs') %>
        <h2>New Recipe</h2>
        <form class="form" class="form" action="/recipes" method="POST">
            <label for="name"> Name:</label>
            <input type="text" name="name" id="name" required >

            <label for="instructions">Instructions</label>
            <textarea name="instructions" id="instructions"></textarea>
            
            <%if(ingredients.length>0){%>
                <p>Choose the ingredients for your recipe or create new ones</p>
                <select id="selectIngredients" name="selectedIngredients" multiple size="5">
                    <%ingredients.forEach((ingredient) =>{%>
                        <option value="<%=ingredient._id%>"> <%=ingredient.name%> </option> 
                    <%})%>
                </select>
            <%}else{%>
                <p>You don't have any ingredients yet. Create them and add them to your recipe.</p>   
            <%}%>
            <label for="newIngredients">Add your ingredients separated by commas</label>
            <input type=text id="newIngredients" name="newIngredients">
            
            <button type="submit">Create New Recipe</button>
        </form>
    </div>
    
</body>
</html>